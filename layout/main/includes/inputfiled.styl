/**
    Custom Input Field

    USAGE:

    <div className={styles['fp-input']}> 
      <input type="text" required />
      <span className={styles['highlight']}></span>
      <span className={styles['bar']}></span>
      <label>Your label</label>
      <span className={styles['error']}>error message</span>
    </div>
**/
@import '../executables.styl';

.fp-input
  position:relative; 
  margin-bottom:15px;

  input
    padding 10px 10px 2px 5px
    display block
    border none
    border-bottom 1px solid light-border

  input:required
    box-shadow none

  input:focus { outline:none; }

  /* LABEL ======================================= */
  label
    color label-light 
    font-weight normal
    position absolute
    pointer-events none
    left 0
    top 10px
    transition 0.2s ease all 
    -moz-transition 0.2s ease all 
    -webkit-transition 0.2s ease all

  /* active state */
  input:focus ~ label, input:valid ~ label
    top -10px
    font-size 12px
    color navy-blue

   input:-webkit-autofill:focus ~ label
    top -10px
    font-size 12px
    color navy-blue

  input:-webkit-autofill {
    &,
    &:hover,
    &:focus,
    &:active {
      -webkit-box-shadow: inset 0 0 0 500px white !important;
    }
    ~ label {
      font-size: 12px;
    }
  }

  /* BOTTOM BARS ================================= */
  .bar 	{ position:relative; display:block; width:100%; }
  .bar::before, .bar::after 
    content ''
    height 1px 
    width 0
    bottom 0 
    position absolute
    background navy-blue 
    transition 0.2s ease all 
    -moz-transition 0.2s ease all 
    -webkit-transition 0.2s ease all

  .bar::before
    left 50%

  .bar::after
    right 50%

  .error
    color error-color

  /* active state */
  input:focus ~ .bar:before, input:focus ~ .bar:after
    width 50%

  /* HIGHLIGHTER ================================== */
  .highlight
    position absolute
    height 60% 
    width 100px 
    top 25% 
    left 0
    pointer-events none
    opacity 0.5

  /* active state */
  input:focus ~ .highlight
    -webkit-animation:inputHighlighter 0.3s ease;
    -moz-animation:inputHighlighter 0.3s ease;
    animation:inputHighlighter 0.3s ease;

  /* ANIMATIONS ================ */
  @-webkit-keyframes inputHighlighter {
    from { background:#5264AE; }
    to 	{ width:0; background:transparent; }
  }
  @-moz-keyframes inputHighlighter {
    from { background:#5264AE; }
    to 	{ width:0; background:transparent; }
  }
  @keyframes inputHighlighter {
    from { background:#5264AE; }
    to 	{ width:0; background:transparent; }
  }

.input-error
  label, input:focus ~ label, input:valid ~ label 
    color error-color

  .bar::before, .bar::after 
    background error-color

  input
    border-bottom 1px solid error-color